<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couples Connect - Love Dice Game</title>
    <!-- Three.js desde CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #ec407a;
            --secondary: #f8bbd0;
            --light: #fff9fc;
            --dark: #333;
            --gray: #666;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--light);
            color: var(--dark);
            overflow-x: hidden;
        }
        
        #app {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), #d81b60);
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 0 0 15px 15px;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }
        
        #dice-container {
            width: 100%;
            height: 400px;
            position: relative;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        #canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
        
        .controls {
            margin-top: 20px;
            width: 100%;
            max-width: 500px;
        }
        
        .btn {
            padding: 12px 25px;
            font-size: 1.1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .result-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .result-title {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .result-text {
            font-size: 1.2rem;
            margin: 15px 0;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background: #eee;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            background: #ddd;
        }
        
        .action-btn.primary {
            background: var(--primary);
            color: white;
        }
        
        .mood-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .mood-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mood-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }
        
        .mood-title {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            #dice-container {
                height: 300px;
            }
            
            .mood-selection {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <div class="logo">Couples Connect</div>
            <div>Deepen your connection through playful exploration</div>
        </header>
        
        <main>
            <div class="game-container">
                <div id="dice-container">
                    <canvas id="canvas"></canvas>
                </div>
                
                <div class="controls">
                    <button id="rollBtn" class="btn">Roll the Dice</button>
                    
                    <div id="resultContainer" class="result-container">
                        <h3 class="result-title">Your Activity:</h3>
                        <p id="resultText" class="result-text">Kiss your partner's neck softly for 30 seconds</p>
                        <div class="action-buttons">
                            <button class="action-btn">Skip</button>
                            <button class="action-btn">Re-roll</button>
                            <button class="action-btn primary">Start Timer</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <h2 style="text-align: center; color: var(--primary))">Choose a mood:</h2>
            
            <div class="mood-selection">
                <div class="mood-card" data-mood="gentle">
                    <h3 class="mood-title">Sweet & Gentle</h3>
                    <p>Soft, romantic activities to deepen your connection</p>
                </div>
                
                <div class="mood-card" data-mood="playful">
                    <h3 class="mood-title">Playful Exploration</h3>
                    <p>Fun and lighthearted ways to enjoy each other</p>
                </div>
                
                <div class="mood-card" data-mood="passionate">
                    <h3 class="mood-title">Passionate Adventure</h3>
                    <p>Spicy suggestions to heat things up</p>
                </div>
                
                <div class="mood-card" data-mood="conversation">
                    <h3 class="mood-title">Deep Conversation</h3>
                    <p>Meaningful questions to foster emotional intimacy</p>
                </div>
            </div>
        </main>
        
        <footer>
            A PlayLoveToys experience | <a href="#" style="color: var(--primary))">Privacy Policy</a>
        </footer>
    </div>

    <script>
        // Game Data
        const gameData = {
            gentle: {
                actions: ["Kiss", "Hold hands with", "Whisper to", "Gently touch", "Cuddle with"],
                bodyParts: ["neck", "hand", "cheek", "shoulder", "back"],
                modifiers: ["slowly", "for 1 minute", "while looking into their eyes", "and smile"]
            },
            playful: {
                actions: ["Playfully bite", "Tickle", "Dance with", "Give a massage to", "Trace your finger along"],
                bodyParts: ["ear", "nose", "fingers", "feet", "stomach"],
                modifiers: ["for 30 seconds", "while laughing", "with your eyes closed", "very slowly"]
            },
            passionate: {
                actions: ["Passionately kiss", "Nibble on", "Caress", "Explore", "Tease"],
                bodyParts: ["lips", "neck", "inner thigh", "ear", "collarbone"],
                modifiers: ["for 2 minutes", "with intensity", "without breaking eye contact"]
            },
            conversation: {
                questions: [
                    "What's your favorite memory of us?",
                    "What makes you feel most loved?",
                    "Share a secret fantasy",
                    "What's something new you'd like to try together?",
                    "What do you love most about our relationship?"
                ]
            },
            currentMood: 'gentle'
        };

        // Three.js Dice Implementation
        let scene, camera, renderer, dice = [];
        const diceSize = 2;
        
        function initThreeJS() {
            // Scene setup
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xf0f0f0);
            
            // Camera
            camera = new THREE.PerspectiveCamera(75, document.getElementById('dice-container').clientWidth / document.getElementById('dice-container').clientHeight, 0.1, 1000);
            camera.position.z = 10;
            camera.position.y = 5;
            
            // Renderer
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas'), antialias: true });
            renderer.setSize(document.getElementById('dice-container').clientWidth, document.getElementById('dice-container').clientHeight);
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(1, 1, 3);
            scene.add(directionalLight);
            
            // Create dice
            createDice();
            
            // Animation loop
            animate();
            
            // Handle window resize
            window.addEventListener('resize', onWindowResize);
        }
        
        function createDice() {
            const geometry = new THREE.BoxGeometry(diceSize, diceSize, diceSize);
            const material = new THREE.MeshStandardMaterial({ 
                color: 0xf8bbd0,
                roughness: 0.2,
                metalness: 0.1
            });
            
            // Create two dice
            for (let i = 0; i < 2; i++) {
                const die = new THREE.Mesh(geometry, material);
                die.position.x = i * 3 - 1.5;
                die.position.y = 0;
                die.userData = {
                    velocity: new THREE.Vector3(
                        (Math.random() - 0.5) * 0.2,
                        Math.random() * 0.2,
                        (Math.random() - 0.5) * 0.2
                    ),
                    rotationSpeed: new THREE.Vector3(
                        Math.random() * 0.2,
                        Math.random() * 0.2,
                        Math.random() * 0.2
                    ),
                    rolling: false
                };
                scene.add(die);
                dice.push(die);
            }
        }
        
        function rollDice() {
            dice.forEach((die, index) => {
                die.position.y = 5 + Math.random() * 2;
                die.position.x = index * 3 - 1.5;
                die.position.z = (Math.random() - 0.5) * 2;
                
                die.userData.velocity.set(
                    (Math.random() - 0.5) * 0.5,
                    Math.random() * 0.5,
                    (Math.random() - 0.5) * 0.5
                );
                
                die.userData.rotationSpeed.set(
                    Math.random() * 0.5,
                    Math.random() * 0.5,
                    Math.random() * 0.5
                );
                
                die.userData.rolling = true;
            });
            
            // Show result after animation
            setTimeout(showResult, 2000);
        }
        
        function showResult() {
            const moodData = gameData[gameData.currentMood];
            let resultText;
            
            if (gameData.currentMood === 'conversation') {
                const randomIndex = Math.floor(Math.random() * moodData.questions.length);
                resultText = moodData.questions[randomIndex];
            } else {
                const action = moodData.actions[Math.floor(Math.random() * moodData.actions.length)];
                const bodyPart = moodData.bodyParts[Math.floor(Math.random() * moodData.bodyParts.length)];
                const modifier = moodData.modifiers[Math.floor(Math.random() * moodData.modifiers.length)];
                resultText = `${action} your partner's ${bodyPart} ${modifier}`;
            }
            
            document.getElementById('resultText').textContent = resultText;
            document.getElementById('resultContainer').style.display = 'block';
            document.getElementById('rollBtn').disabled = false;
            document.getElementById('rollBtn').textContent = 'Roll Again';
            
            // Save to history
            saveToHistory(resultText);
        }
        
        function saveToHistory(result) {
            if (!localStorage.getItem('diceHistory')) {
                localStorage.setItem('diceHistory', JSON.stringify([]));
            }
            
            const history = JSON.parse(localStorage.getItem('diceHistory'));
            history.push({
                date: new Date().toISOString(),
                result: result,
                mood: gameData.currentMood
            });
            
            localStorage.setItem('diceHistory', JSON.stringify(history));
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            dice.forEach(die => {
                if (die.userData.rolling) {
                    // Apply physics
                    die.userData.velocity.y -= 0.02; // gravity
                    die.position.add(die.userData.velocity);
                    
                    // Rotation
                    die.rotation.x += die.userData.rotationSpeed.x;
                    die.rotation.y += die.userData.rotationSpeed.y;
                    die.rotation.z += die.userData.rotationSpeed.z;
                    
                    // Check if landed
                    if (die.position.y < -diceSize/2 && Math.abs(die.userData.velocity.y) < 0.05) {
                        die.userData.rolling = false;
                    }
                }
            });
            
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = document.getElementById('dice-container').clientWidth / document.getElementById('dice-container').clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(document.getElementById('dice-container').clientWidth, document.getElementById('dice-container').clientHeight);
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initThreeJS();
            
            // Roll button event
            document.getElementById('rollBtn').addEventListener('click', function() {
                this.disabled = true;
                this.textContent = 'Rolling...';
                document.getElementById('resultContainer').style.display = 'none';
                rollDice();
            });
            
            // Mood selection
            document.querySelectorAll('.mood-card').forEach(card => {
                card.addEventListener('click', function() {
                    gameData.currentMood = this.dataset.mood;
                    
                    // Visual feedback
                    document.querySelectorAll('.mood-card').forEach(c => {
                        c.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
                    });
                    this.style.boxShadow = `0 0 0 3px ${getComputedStyle(document.documentElement).getPropertyValue('--primary')}`;
                });
            });
            
            // Set default mood
            document.querySelector(`.mood-card[data-mood="${gameData.currentMood}"]`).style.boxShadow = 
                `0 0 0 3px ${getComputedStyle(document.documentElement).getPropertyValue('--primary')}`;
        });
    </script>
</body>
</html>