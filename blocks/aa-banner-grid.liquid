{% liquid
  assign bg_type = block.settings.slice_background_type | default: 'inherit'
  assign style_attr = ''
  if bg_type == 'solid'
    assign style_attr = 'background-color: ' | append: block.settings.slice_bg_solid_color
  elsif bg_type == 'gradient'
    assign dir = block.settings.slice_gradient_direction | default: '135deg'
    assign c1 = block.settings.slice_gradient_color_1 | default: '#667eea'
    assign c2 = block.settings.slice_gradient_color_2 | default: '#764ba2'
    assign style_attr = 'background: linear-gradient(' | append: dir | append: ', ' | append: c1 | append: ', ' | append: c2 | append: ')'
  endif
%}
<div class="b-box" {{ block.shopify_attributes }}>
    <div class="b-grid banner-content-{{ block.id }}">
        {% for child_block in block.blocks %}
            <div {{ block.shopify_attributes }} x-data="{childClasses: '', showChild: false}" :class="childClasses" x-show="showChild">
                {% render child_block %}
            </div>
        {% endfor %}
    </div>
</div>
{% style %}
  /* Banner slice styles */
  .slice-{{ block.id }} {
    /* Add any specific slice styling here */
  }
{% endstyle %}
{% schema %}
{
  "name": "AA-Banner-Grid",
  "blocks": [
    {
    "type": "_aa-cell"
    }
  ],

  "settings": [
    { "type": "image_picker", "id": "slice_image", "label": "Image" },

    { "type": "header", "content": "Background Settings" },
    {
      "type": "select",
      "id": "slice_background_type",
      "label": "Background Type",
      "options": [
        { "value": "inherit", "label": "Inherit section" },
        { "value": "solid", "label": "Solid" },
        { "value": "gradient", "label": "Gradient" }
      ],
      "default": "inherit"
    },
    { "type": "color", "id": "slice_bg_solid_color", "label": "Background Color", "default": "#f5f5f5" },
    { "type": "color", "id": "slice_gradient_color_1", "label": "Gradient Start", "default": "#667eea" },
    { "type": "color", "id": "slice_gradient_color_2", "label": "Gradient End", "default": "#764ba2" },
    {
      "type": "select",
      "id": "slice_gradient_direction",
      "label": "Gradient Direction",
      "options": [
        { "value": "to right", "label": "Left to Right →" },
        { "value": "to bottom", "label": "Top to Bottom ↓" },
        { "value": "to bottom right", "label": "Diagonal ↘" },
        { "value": "135deg", "label": "Diagonal ↗" }
      ],
      "default": "135deg"
    }
  ],
  "presets": [
    {
      "name": "AA Banner Grid",

    }
  ]
}
{% endschema %}
