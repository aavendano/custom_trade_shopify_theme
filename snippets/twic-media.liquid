{% liquid
  assign image_url = image | image_url | split: '?' | first | replace: '//asgiti-0w.myshopify.com', '' | replace: '//cdn.shopify.com/s/files/1/0603/8198/6891/', '/cdn/shop/' | replace: '//playlovetoys.ca', ''
  assign aspect_ratio = image.aspect_ratio | default: 1.0
  assign alt_text = alt | default: image.alt | escape
%}

<twic-picture
  src="{{ image_url }}"
  class="{{ class }}"
  alt="{{ alt_text }}"
  ratio="{{ ratio | default: aspect_ratio }}"
  sizes="{{ sizes | default: '100vw' }}"
  {% if media_id %}
    data-media-id="{{ media_id }}"
  {% endif %}
  {% if eager %}
    eager="true"
    fetchpriority="high"
  {% else %}
    fetchpriority="auto"
  {% endif %}
  {% if transform %}
    preTransform="{{ transform }}"
  {% endif %}
  {% if focus %}
    focus="{{ focus }}"
  {% endif %}
  mode="{{ mode | default: 'contain' }}"
  position="{{ position | default: 'center' }}"
  transition="{{ transition | default: 'fade' }}"
  style="{{ style }}"
></twic-picture>

<noscript>
  <img
    src="{{ image | image_url: width: '1024' }}"
    alt="{{ alt_text }}"
    class="{{ class }}"
    loading="lazy"
  >
</noscript>
