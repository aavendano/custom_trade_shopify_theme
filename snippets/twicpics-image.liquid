{%- liquid
  assign class = class | default: ''
  assign eager = eager | default: false
  assign focus = focus | default: 'auto'
  assign transform = transform | default: ''
  assign image_url = image | image_url: 'master'
  assign alt = alt | default: image.alt | escape
-%}

<figure
  class="twic-image-wrapper"
  data-twic-background="url({{ image_url }}?twic=v1/output=preview)"
>
    <img
    data-twic-src="image:{{ image_url }}"
    width="{{ image.width }}"
    height="{{ image.height }}"
    alt="{{ alt }}"
    {% if class != '' %}
      class="{{ class }}"
    {% endif -%}
    {% if eager == true %}
      data-twic-eager
    {% endif -%}
    {% if focus != '' %}
      data-twic-focus="{{ focus }}"
    {% endif -%}
    {% if transform != '' %}
      data-twic-transform="{{ transform }}"
    {% endif %}
    data-twic-bot="contain=600x600/quality-max=75/output=webp"
    data-twic-step="25"
  >
</figure>
